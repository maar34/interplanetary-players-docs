<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="https://mw-storage.fra1.cdn.digitaloceanspaces.com/default/logos/favicon.ico"><meta name="𝐵𝓇𝓊𝓃𝒶 𝒢𝓊𝒶𝓇𝓃𝒾𝑒𝓇𝒾" content="𝙼𝙰𝙰𝚁 𝚆𝙾𝚁𝙻𝙳"><meta name="description" content="Official documentation for the Interplanetary Players project."><title>Source: ButtonGroup.js</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(baseURL=(baseURL="/interplanetary-players-docs/").replace(/https?:\/\//i,"")).substr(baseURL.indexOf("/"))</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><img src="https://mw-storage.fra1.cdn.digitaloceanspaces.com/default/logos/Maar-World-Logo.svg" class="logo" width="80" height="80"> Interplanetary Players Dev Docs<div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="2DGUI.WebAudioControlsWidget.html">WebAudioControlsWidget</a></div><div class="sidebar-section-children"><a href="2DGUI.WebAudioKnob.html">WebAudioKnob</a></div><div class="sidebar-section-children"><a href="2DGUI.WebAudioNumericKeyboard.html">WebAudioNumericKeyboard</a></div><div class="sidebar-section-children"><a href="2DGUI.WebAudioParam.html">WebAudioParam</a></div><div class="sidebar-section-children"><a href="2DGUI.WebAudioSlider.html">WebAudioSlider</a></div><div class="sidebar-section-children"><a href="2DGUI.WebAudioSwitch.html">WebAudioSwitch</a></div><div class="sidebar-section-children"><a href="2DGUI.exports.AppNotifications.html">exports.AppNotifications</a></div><div class="sidebar-section-children"><a href="2DGUI.exports.ButtonGroup.html">exports.ButtonGroup</a></div><div class="sidebar-section-children"><a href="AudioEngine.exports.AudioPlayer.html">exports.AudioPlayer</a></div><div class="sidebar-section-children"><a href="CoreModule.ParameterManager.html">ParameterManager</a></div><div class="sidebar-section-children"><a href="CoreModule.exports.DataManager.html">exports.DataManager</a></div><div class="sidebar-section-children"><a href="InputInterface.MIDIController.html">MIDIController</a></div><div class="sidebar-section-children"><a href="WebAudioControlsWidgetManager.html">WebAudioControlsWidgetManager</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-namespaces"><div>Namespaces</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="2DGUI.html">2DGUI</a></div><div class="sidebar-section-children"><a href="3DGUI.html">3DGUI</a></div><div class="sidebar-section-children"><a href="AudioEngine.html">AudioEngine</a></div><div class="sidebar-section-children"><a href="CoreModule.html">CoreModule</a></div><div class="sidebar-section-children"><a href="InputInterface.html">InputInterface</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-externals"><div>Externals</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="external-WebAudioControls.html">WebAudioControls</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#Controller">Controller</a></div><div class="sidebar-section-children"><a href="global.html#MAX_RETRIES">MAX_RETRIES</a></div><div class="sidebar-section-children"><a href="global.html#Parameter">Parameter</a></div><div class="sidebar-section-children"><a href="global.html#Subscriber">Subscriber</a></div><div class="sidebar-section-children"><a href="global.html#Transformation">Transformation</a></div><div class="sidebar-section-children"><a href="global.html#_setValue">_setValue</a></div><div class="sidebar-section-children"><a href="global.html#activateRadio">activateRadio</a></div><div class="sidebar-section-children"><a href="global.html#addEventListeners">addEventListeners</a></div><div class="sidebar-section-children"><a href="global.html#alignCollapseMenu">alignCollapseMenu</a></div><div class="sidebar-section-children"><a href="global.html#cycleState">cycleState</a></div><div class="sidebar-section-children"><a href="global.html#drawKnob">drawKnob</a></div><div class="sidebar-section-children"><a href="global.html#drawModeIndicator">drawModeIndicator</a></div><div class="sidebar-section-children"><a href="global.html#drawSlider">drawSlider</a></div><div class="sidebar-section-children"><a href="global.html#drawSwitch">drawSwitch</a></div><div class="sidebar-section-children"><a href="global.html#getPriority">getPriority</a></div><div class="sidebar-section-children"><a href="global.html#handleParamChange">handleParamChange</a></div><div class="sidebar-section-children"><a href="global.html#hidetip">hidetip</a></div><div class="sidebar-section-children"><a href="global.html#initializeAttributes">initializeAttributes</a></div><div class="sidebar-section-children"><a href="global.html#isActive">isActive</a></div><div class="sidebar-section-children"><a href="global.html#keydown">keydown</a></div><div class="sidebar-section-children"><a href="global.html#onParameterChanged">onParameterChanged</a></div><div class="sidebar-section-children"><a href="global.html#onParameterChanged">onParameterChanged</a></div><div class="sidebar-section-children"><a href="global.html#onParameterChanged">onParameterChanged</a></div><div class="sidebar-section-children"><a href="global.html#pointerdown">pointerdown</a></div><div class="sidebar-section-children"><a href="global.html#pointermove">pointermove</a></div><div class="sidebar-section-children"><a href="global.html#pointerup">pointerup</a></div><div class="sidebar-section-children"><a href="global.html#processColors">processColors</a></div><div class="sidebar-section-children"><a href="global.html#redraw">redraw</a></div><div class="sidebar-section-children"><a href="global.html#removeEventListeners">removeEventListeners</a></div><div class="sidebar-section-children"><a href="global.html#setValue">setValue</a></div><div class="sidebar-section-children"><a href="global.html#setValue">setValue</a></div><div class="sidebar-section-children"><a href="global.html#setValue">setValue</a></div><div class="sidebar-section-children"><a href="global.html#setupCanvas">setupCanvas</a></div><div class="sidebar-section-children"><a href="global.html#setupLabel">setupLabel</a></div><div class="sidebar-section-children"><a href="global.html#setupResizeObserver">setupResizeObserver</a></div><div class="sidebar-section-children"><a href="global.html#showtip">showtip</a></div><div class="sidebar-section-children"><a href="global.html#toggleState">toggleState</a></div><div class="sidebar-section-children"><a href="global.html#triggerKick">triggerKick</a></div><div class="sidebar-section-children"><a href="global.html#updateLinkedParam">updateLinkedParam</a></div><div class="sidebar-section-children"><a href="global.html#updateTooltip">updateTooltip</a></div><div class="sidebar-section-children"><a href="global.html#updateValueFromPointer">updateValueFromPointer</a></div><div class="sidebar-section-children"><a href="global.html#updateValueFromPointerRel">updateValueFromPointerRel</a></div><div class="sidebar-section-children"><a href="global.html#validateValue">validateValue</a></div><div class="sidebar-section-children"><a href="global.html#wheel">wheel</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"><div class="navbar-item"><a id="github" href="https://github.com/maar34/interplanetary-players-docs" target="">Documentation GitHub</a></div><div class="navbar-item"><a id="wiki" href="https://github.com/maar34/interplanetary-players/wiki" target="">Wiki</a></div><div class="navbar-item"><a id="app-github" href="https://github.com/maar34/interplanetary-players" target="">Interplanetary Players Github</a></div></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section id="source-page" class="source-page"><header><h1 id="title" class="has-anchor">ButtonGroup.js</h1></header><article><pre class="prettyprint source lang-js"><code>/**
 * @file ButtonGroup.js
 * @version 2.0.0
 * @autor 𝐵𝓇𝓊𝓃𝒶 𝒢𝓊𝒶𝓇𝓃𝒾𝑒𝓇𝒾
 * @license MIT
 * @date 2024-12-07
 * @description Manages button groups within the Interplanetary Players application, handling interactions, SVG loading, and event bindings.
 */


import { MIDIControllerInstance } from './MIDIController.js';
import { MIDI_SUPPORTED } from './Constants.js'; 
import notifications from './AppNotifications.js';

/**
 * Class representing a group of buttons with dropdown menus for various functionalities.
 * @class
 * @memberof 2DGUI 
 */
export class ButtonGroup {
    /**
     * Creates an instance of ButtonGroup.
     * @param {string} containerSelector - CSS selector for the button group container.
     * @param {string} dropdownSelector - CSS selector for the dropdown element within the container.
     * @param {string} buttonSelector - CSS selector for the main button within the container.
     * @param {string} menuItemsSelector - CSS selector for the menu items within the dropdown.
     * @param {string} iconSelector - CSS selector for the icon within the main button.
     * @param {AudioPlayer} audioPlayer - Instance of AudioPlayer for managing audio controls.
     * @param {DataManager} [dataManager=null] - Instance of DataManager for managing data (optional).
     */
    constructor(
        containerSelector,
        dropdownSelector,
        buttonSelector,
        menuItemsSelector,
        iconSelector,
        audioPlayer,
        dataManager = null
    ) {
        this.audioPlayer = audioPlayer;
        this.dataManager = dataManager;

        // Select key elements within the container
        this.container = document.querySelector(containerSelector);
        if (!this.container) {
            console.error(`ButtonGroup Error: No element found for selector "${containerSelector}"`);
            return;
        }
        this.dropdown = this.container.querySelector(dropdownSelector);
        this.button = this.container.querySelector(buttonSelector);
        this.menuItems = this.dropdown.querySelectorAll(menuItemsSelector);
        this.icon = this.button.querySelector(iconSelector);
        this.gridWrapper = document.querySelector('.grid-wrapper'); // Grid wrapper element
        this.gridContent = document.querySelector('.grid-content'); // Grid content element
        this.closeGridBtn = document.querySelector('.close-grid-btn'); // Close button for the grid
        this.collapseElement = document.getElementById('collapseInfoMenu'); // Collapsible menu element

        // Validate the presence of essential elements
        if (!this.dropdown || !this.button || !this.menuItems.length || !this.icon) {
            console.error('ButtonGroup initialization failed: Missing essential elements.');
            return;
        }

        // Initialize Bootstrap Collapse instance if the collapsible menu exists
        this.collapseInstance = null;
        if (this.collapseElement) {
            this.collapseInstance = bootstrap.Collapse.getOrCreateInstance(this.collapseElement);
        }

        // Reference to the MIDIController instance
        this.midiController = MIDIControllerInstance;

        // Initialize the ButtonGroup
        this.init();
    }

    /**
     * Initializes the ButtonGroup by setting up SVGs and event bindings.
     * @private
     */
    init() {
        console.log(`Initializing dropdowns for "${this.containerSelector}"`);

        if (this.collapseInstance) {
            this.collapseInstance = bootstrap.Collapse.getOrCreateInstance(this.collapseElement);
        }

        // Adjust the dropdown based on MIDI support
        this.adjustForMidiSupport();

        // Load dynamic SVGs for the main button and dropdown menu items
        this.loadDynamicSVGs();

        // Bind event listeners to menu items and buttons
        this.bindEvents();

        // Initialize Bootstrap Dropdowns to prevent global interference
        this.container.querySelectorAll('.dropdown-toggle').forEach(dropdown => {
            new bootstrap.Dropdown(dropdown); // Initialize with default behavior
        });
    }

    /**
     * Loads dynamic SVGs for the main button and dropdown menu items.
     * @private
     */
    loadDynamicSVGs() {
        // Load SVG for the main button if a data-src attribute is present
        const src = this.icon.getAttribute('data-src');
        if (src) {
            this.fetchAndSetSVG(src, this.icon, true);
        }

        // Iterate through each menu item to set up their icons
        this.menuItems.forEach(item => {
            const iconImg = item.querySelector('img');
            const src = item.getAttribute('data-icon');
            if (src &amp;&amp; iconImg) {
                iconImg.src = src;
                iconImg.alt = item.getAttribute('data-value') || 'Menu Item';
                iconImg.style.filter = 'brightness(0) saturate(100%)';
                iconImg.style.marginRight = '8px';
                iconImg.style.width = '16px';
                iconImg.style.height = '16px';
            }
        });
    }

    /**
     * Fetches and sets SVG content into a specified element.
     * @param {string} src - URL of the SVG file to fetch.
     * @param {HTMLElement} element - DOM element to insert the fetched SVG into.
     * @param {boolean} [isInline=true] - Whether to insert the SVG inline.
     * @private
     */
    fetchAndSetSVG(src, element, isInline = true) {
        if (!isInline) return;

        fetch(src)
            .then(response => {
                if (!response.ok) throw new Error(`Failed to load SVG: ${src}`);
                return response.text();
            })
            .then(svgContent => {
                const parser = new DOMParser();
                const svgDoc = parser.parseFromString(svgContent, 'image/svg+xml');
                const svgElement = svgDoc.documentElement;

                if (svgElement &amp;&amp; svgElement.tagName.toLowerCase() === 'svg') {
                    svgElement.setAttribute('fill', 'currentColor');
                    svgElement.setAttribute('role', 'img');
                    svgElement.classList.add('icon-svg');
                    element.innerHTML = ''; // Clear existing content
                    element.appendChild(svgElement); // Insert the SVG
                } else {
                    console.error(`Invalid SVG content fetched from: ${src}`);
                }
            })
            .catch(error => console.error(`Error loading SVG from ${src}:`, error));
    }

    /**
     * Binds event listeners to menu items and the close grid button.
     * @private
     */
    bindEvents() {
        // Bind click events to each menu item
        this.menuItems.forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                const newIconPath = item.getAttribute('data-icon');
                const newValue = item.getAttribute('data-value');
            
                if (newIconPath &amp;&amp; newValue) {
                    // Update the main button's icon and aria-label
                    this.icon.setAttribute('data-src', newIconPath);
                    this.icon.setAttribute('aria-label', newValue);
                    this.fetchAndSetSVG(newIconPath, this.icon, true);
                }
            
                // Handle the selection change based on the new value
                this.onSelectionChange(newValue);
            });
        });

        // Bind click event to the close grid button if it exists
        if (this.closeGridBtn) {
            this.closeGridBtn.addEventListener('click', (e) => {
                e.preventDefault();
                this.hideGrid();
            });
        }
    }

    /**
     * Handles selection changes from the dropdown menu.
     * @param {string} selectedValue - The value of the selected menu item.
     * @private
     */
    onSelectionChange(selectedValue) {
        // Determine the type of button group based on a data attribute
        const groupType = this.container.getAttribute('data-group');

        switch (groupType) {
            case 'information-dropdown':
                this.handleInformationDropdown(selectedValue);
                break;
            case 'transport-dropdown':
                this.handleTransportDropdown(selectedValue);
                break;
            case 'interaction-dropdown':
                this.handleInteractionDropdown(selectedValue);
                break;
            default:
                console.warn(`Unknown group type: ${groupType}`);
        }
    }

    /**
     * Handles selections from the information dropdown menu.
     * @param {string} selectedValue - The selected information type.
     * @private
     */
    handleInformationDropdown(selectedValue) {
        console.log(`[Information Dropdown] Selected: ${selectedValue}`);
        const typeMap = {
            'Control Monitor': 'monitorInfo',
            'Track': 'trackInfo',
            'Interplanetary Player': 'interplanetaryPlayerInfo',
            'Sound Engine': 'soundEngineInfo',
        };

        const target = typeMap[selectedValue];

        if (target) {
            if (this.dataManager) {
                // Populate placeholders based on the selected target
                this.dataManager.populatePlaceholders(target);
                this.showGrid();
            } else {
                console.error('[Information Dropdown] DataManager instance is not defined.');
            }
        } else {
            console.warn(`[Information Dropdown] Unknown selection: ${selectedValue}`);
        }
    }

    /**
     * Displays the grid wrapper and expands the collapsible menu.
     * @private
     */
    showGrid() {
        if (this.gridWrapper) {
            this.gridWrapper.style.display = 'grid';
            console.log('[Grid] Grid is now visible.');
        }

        if (this.collapseInstance) {
            this.collapseInstance.show();
            console.log('[Collapse] Collapsible menu is now expanded.');
        }
    }

    /**
     * Hides the grid wrapper and collapses the menu.
     * @private
     */
    hideGrid() {
        if (this.gridWrapper) {
            this.gridWrapper.style.display = 'none';
            console.log('[Grid] Grid has been hidden.');
        }

        if (this.collapseInstance) {
            this.collapseInstance.hide();
            console.log('[Collapse] Collapsible menu is now collapsed.');
        }
    }

    /**
     * Handles selections from the transport dropdown menu.
     * @param {string} selectedValue - The selected transport action.
     * @private
     */
    handleTransportDropdown(selectedValue) {
        console.log(`[Transport Dropdown] Selected: ${selectedValue}`);
        switch (selectedValue.toLowerCase()) {
            case 'play':
                this.audioPlayer.play();
                break;
            case 'pause':
                this.audioPlayer.pause();
                break;
            case 'stop':
                this.audioPlayer.stop();
                break;
            default:
                console.warn(`[Transport Dropdown] Unknown action: ${selectedValue}`);
        }
    }

    /**
     * Handles selections from the interaction dropdown menu.
     * @param {string} selectedValue - The selected interaction mode.
     * @private
     */
    handleInteractionDropdown(selectedValue) {
        switch (selectedValue) {
            case 'Jam':
                console.log('Jam mode activated.');
                // Implement Jam mode activation logic here
                break;

            case 'MIDI':
                notifications.showToast('MIDI mode Pressed.', 'info', 3000);
                MIDIControllerInstance.activateMIDI().then(() => {
                    notifications.showToast('MIDI activateMIDI ready.', 'success', 3000);
                    MIDIControllerInstance.enableMidiLearn();
                    notifications.showToast('MIDI ENABLED.', 'success', 3000);
                }).catch(error => {
                    console.error('MIDI Activation Error:', error);
                    notifications.showToast(`MIDI Activation Error: ${error.message}`, 'error', 5000);
                });
                break;

            case 'Sensors':
                console.log('Sensors mode activated.');
                this.activateSensors();
                break;

            case 'Cosmic LFO':
                console.log('Cosmic LFO mode activated.');
                this.activateCosmicLFO();
                break;

            default:
                console.warn(`Unknown interaction mode: ${selectedValue}`);
        }
    }

    /**
     * Activates the Cosmic LFO mode.
     * @private
     */
    activateCosmicLFO() {
        console.log("Cosmic LFO activated.");
        // Implement Cosmic LFO activation logic here
    }

    /**
     * Activates the Sensors mode.
     * @private
     */
    activateSensors() {
        console.log("Sensors mode activated.");
        // Implement Sensors activation logic here
    }

    /**
     * Adjusts the dropdown menu based on MIDI support.
     * Hides or shows the MIDI option accordingly.
     * @private
     */
    adjustForMidiSupport() {
        this.menuItems.forEach(item => {
            const value = item.getAttribute('data-value');
            if (value === 'MIDI') {
                item.style.display = MIDI_SUPPORTED ? 'block' : 'none';
            }
        });
        console.log(`[ButtonGroup] MIDI support: ${MIDI_SUPPORTED ? 'Enabled' : 'Disabled'}`);
    }
}</code></pre></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><img src="https://mw-storage.fra1.cdn.digitaloceanspaces.com/default/logos/Maar-World-Logo.svg" class="logo" width="80" height="80"> Interplanetary Players Dev Docs<div class="mobile-nav-links"><div class="navbar-item"><a id="github-mobile" href="https://github.com/maar34/interplanetary-players-docs" target="">Documentation GitHub</a></div><div class="navbar-item"><a id="wiki-mobile" href="https://github.com/maar34/interplanetary-players/wiki" target="">Wiki</a></div><div class="navbar-item"><a id="app-github-mobile" href="https://github.com/maar34/interplanetary-players" target="">Interplanetary Players Github</a></div></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="2DGUI.WebAudioControlsWidget.html">WebAudioControlsWidget</a></div><div class="sidebar-section-children"><a href="2DGUI.WebAudioKnob.html">WebAudioKnob</a></div><div class="sidebar-section-children"><a href="2DGUI.WebAudioNumericKeyboard.html">WebAudioNumericKeyboard</a></div><div class="sidebar-section-children"><a href="2DGUI.WebAudioParam.html">WebAudioParam</a></div><div class="sidebar-section-children"><a href="2DGUI.WebAudioSlider.html">WebAudioSlider</a></div><div class="sidebar-section-children"><a href="2DGUI.WebAudioSwitch.html">WebAudioSwitch</a></div><div class="sidebar-section-children"><a href="2DGUI.exports.AppNotifications.html">exports.AppNotifications</a></div><div class="sidebar-section-children"><a href="2DGUI.exports.ButtonGroup.html">exports.ButtonGroup</a></div><div class="sidebar-section-children"><a href="AudioEngine.exports.AudioPlayer.html">exports.AudioPlayer</a></div><div class="sidebar-section-children"><a href="CoreModule.ParameterManager.html">ParameterManager</a></div><div class="sidebar-section-children"><a href="CoreModule.exports.DataManager.html">exports.DataManager</a></div><div class="sidebar-section-children"><a href="InputInterface.MIDIController.html">MIDIController</a></div><div class="sidebar-section-children"><a href="WebAudioControlsWidgetManager.html">WebAudioControlsWidgetManager</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-namespaces"><div>Namespaces</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="2DGUI.html">2DGUI</a></div><div class="sidebar-section-children"><a href="3DGUI.html">3DGUI</a></div><div class="sidebar-section-children"><a href="AudioEngine.html">AudioEngine</a></div><div class="sidebar-section-children"><a href="CoreModule.html">CoreModule</a></div><div class="sidebar-section-children"><a href="InputInterface.html">InputInterface</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-externals"><div>Externals</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="external-WebAudioControls.html">WebAudioControls</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#Controller">Controller</a></div><div class="sidebar-section-children"><a href="global.html#MAX_RETRIES">MAX_RETRIES</a></div><div class="sidebar-section-children"><a href="global.html#Parameter">Parameter</a></div><div class="sidebar-section-children"><a href="global.html#Subscriber">Subscriber</a></div><div class="sidebar-section-children"><a href="global.html#Transformation">Transformation</a></div><div class="sidebar-section-children"><a href="global.html#_setValue">_setValue</a></div><div class="sidebar-section-children"><a href="global.html#activateRadio">activateRadio</a></div><div class="sidebar-section-children"><a href="global.html#addEventListeners">addEventListeners</a></div><div class="sidebar-section-children"><a href="global.html#alignCollapseMenu">alignCollapseMenu</a></div><div class="sidebar-section-children"><a href="global.html#cycleState">cycleState</a></div><div class="sidebar-section-children"><a href="global.html#drawKnob">drawKnob</a></div><div class="sidebar-section-children"><a href="global.html#drawModeIndicator">drawModeIndicator</a></div><div class="sidebar-section-children"><a href="global.html#drawSlider">drawSlider</a></div><div class="sidebar-section-children"><a href="global.html#drawSwitch">drawSwitch</a></div><div class="sidebar-section-children"><a href="global.html#getPriority">getPriority</a></div><div class="sidebar-section-children"><a href="global.html#handleParamChange">handleParamChange</a></div><div class="sidebar-section-children"><a href="global.html#hidetip">hidetip</a></div><div class="sidebar-section-children"><a href="global.html#initializeAttributes">initializeAttributes</a></div><div class="sidebar-section-children"><a href="global.html#isActive">isActive</a></div><div class="sidebar-section-children"><a href="global.html#keydown">keydown</a></div><div class="sidebar-section-children"><a href="global.html#onParameterChanged">onParameterChanged</a></div><div class="sidebar-section-children"><a href="global.html#onParameterChanged">onParameterChanged</a></div><div class="sidebar-section-children"><a href="global.html#onParameterChanged">onParameterChanged</a></div><div class="sidebar-section-children"><a href="global.html#pointerdown">pointerdown</a></div><div class="sidebar-section-children"><a href="global.html#pointermove">pointermove</a></div><div class="sidebar-section-children"><a href="global.html#pointerup">pointerup</a></div><div class="sidebar-section-children"><a href="global.html#processColors">processColors</a></div><div class="sidebar-section-children"><a href="global.html#redraw">redraw</a></div><div class="sidebar-section-children"><a href="global.html#removeEventListeners">removeEventListeners</a></div><div class="sidebar-section-children"><a href="global.html#setValue">setValue</a></div><div class="sidebar-section-children"><a href="global.html#setValue">setValue</a></div><div class="sidebar-section-children"><a href="global.html#setValue">setValue</a></div><div class="sidebar-section-children"><a href="global.html#setupCanvas">setupCanvas</a></div><div class="sidebar-section-children"><a href="global.html#setupLabel">setupLabel</a></div><div class="sidebar-section-children"><a href="global.html#setupResizeObserver">setupResizeObserver</a></div><div class="sidebar-section-children"><a href="global.html#showtip">showtip</a></div><div class="sidebar-section-children"><a href="global.html#toggleState">toggleState</a></div><div class="sidebar-section-children"><a href="global.html#triggerKick">triggerKick</a></div><div class="sidebar-section-children"><a href="global.html#updateLinkedParam">updateLinkedParam</a></div><div class="sidebar-section-children"><a href="global.html#updateTooltip">updateTooltip</a></div><div class="sidebar-section-children"><a href="global.html#updateValueFromPointer">updateValueFromPointer</a></div><div class="sidebar-section-children"><a href="global.html#updateValueFromPointerRel">updateValueFromPointerRel</a></div><div class="sidebar-section-children"><a href="global.html#validateValue">validateValue</a></div><div class="sidebar-section-children"><a href="global.html#wheel">wheel</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>